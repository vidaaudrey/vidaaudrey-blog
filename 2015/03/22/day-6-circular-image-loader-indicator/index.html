<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Day 6 &#8211; Circular Image Loader Indicator</title>
  <meta name="description" content="A highly customizable progress animation control.">
  <link rel="canonical" href="http://audreyli.me/2015/03/22/day-6-circular-image-loader-indicator/">
  
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=RobotoDraft:100,300,400|Roboto:300,300italic,400">
  <!-- Boostrap -->
  <link rel="stylesheet" href="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/css/bootstrap.css">
  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  
  <!-- inject:css -->
  <link rel="stylesheet" href="/assets/stylesheets/style.css">
  <!-- endinject -->

  <!-- Icons -->
  <link rel="shortcut icon" href="/assets/favicon.ico">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/assets/images/favicons/favicon-32x32.png" sizes="32x32">

  <!-- RSS -->
  <link type="application/atom+xml" rel="alternate" href="http://audreyli.me/feed.xml" title="vidaaudrey-blog" />
</head>

  
  <body>
    <nav id="push_sidebar">
    <div class="social-icons">
        <img src="/assets/images/audrey-li.jpg" alt="Audrey's Photo" class="img-circle">

        <a href="https://github.com/vidaaudrey" title="Audrey's Github">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-github fa-stack-1x fa-inverse"></i>
            </span>
        </a>
        <a href="https://www.facebook.com/audreyauli" title="Audrey's Facebook">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
            </span>
        </a>

        <a href="https://www.linkedin.com/in/audreyauli" title="Audrey's Google Plus">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
            </span>
        </a>
        
        <a href="/assets/images/wechat.jpg" title="Audrey's Wechat">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-weixin fa-stack-1x fa-inverse"></i>
            </span>
        </a>

    </div>

    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/portfolio">Portfolio</a></li>
      <li><a href="/archives">Archives</a></li>
      <li><a href="/atom.xml">Feed</a></li>
      <li class="rss-subscribe">subscribe <a href="feed.xml">via RSS</a></li>
      <li><a href="/about">About</a></li>
    </ul>
</nav>


    <div id="body-wrap">
      <header class="nav-down"  id="wrapper">
    <div class="container-fluid">
       <a class="navbar-brand" href="/"><img alt="Brand" src="/assets/images/normal/logo-dark-round.png"></a>
       <span class="nav_trigger"><i class="fa fa-bars"></i></span>
    </div>
</header>

      

<!-- jumbotron for pages -->

<!-- jumbotron for post page, with feature image -->
  
     <div class="jumbotron jumbotron-post-long-feature" style="background-image: url('/assets/images/wp-content/uploads/2015/03/Snapshot2.png')">
         <div class="fullwidth-wrapper">
    <div class="col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12 ">
      <div class="main-wrap">
           <h2 class="post-title">Day 6 &#8211; Circular Image Loader Indicator</h2>
            <p class="post-date">22 Mar 2015</p>
      </div>
    </div>
</div>
      </div>

  <!-- jumbotron for post page, without feature image -->
  






      <main class="row">
          <div class="col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12 ">
              <div class="main-wrap">
                <div class="post card post-content">
   <div>
  Description: A circular image downloading process indicator.
</div>

<div>
  Use: Create an UIImageView in storyboard and specify the class to be “CustomImageView&#8221;
</div>

<div>
</div>

<div>
  <a href="/assets/images/wp-content/uploads/2015/03/Snapshot.gif"><img class="alignnone size-full wp-image-721" src="/assets/images/wp-content/uploads/2015/03/Snapshot.gif" alt="Snapshot" width="375" height="670" /></a>
</div>

<div>
</div>

<div>
  <strong>Learn </strong>
</div>

<ul>
<li>Understand how to use NSURLSessionDelegate</li>
<li>Create a custom view</li>
<li>Animate custom view</li>
<li>Work with CAShapeLayer and CAGradientLayer</li>
</ul>

<div>
</div>

<div>
  <strong>Steps: </strong>
</div>

<ul>
<li>Follow and understand the <a href="http://www.raywenderlich.com/94302/implement-circular-image-loader-animation-cashapelayer">tutorial</a></li>
<li>Replace the project’s image downloading library code. Ref <a href="https://developer.apple.com/library/prerelease/mac/documentation/Foundation/Reference/NSURLSession_class/index.html">NSURLSession</a>.</li>
<li>Add label indicator in the center to show the progress</li>
<li>Add gradient mask layer</li>
<li>Minor update on the rest of the code</li>
</ul>

<div>
</div>

<div>
  <strong>Takeaway:</strong>
</div>

<ul>
<li>When the CircularLoaderView is initiated, the frame of the view is not yet conformed to the constraints of the superview. So the drawing of the child  views (in this case, the circular ring and the text in the middle) can not be placed in the right position. It has to be inside the layoutSubviews( ) function.</li>
<li>When adding constraints programmatically, we have to be careful which one is the constraint&#8217;s receiver. e.g. addConstraint(NSLayoutConstraint(item: self, attribute: .CenterX, relatedBy: .Equal, toItem: progressLabel, attribute: .CenterX, multiplier: 1.0, constant: 0.0))</li>
<li><a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Introduction/Introduction.html">Autolayout Guide</a></li>
</ul>

<div>
  <a href="https://github.com/vidaaudrey/006-Circular-Image-Loader-Indicator" target="_blank">Source Code</a>
</div>

<div>
  Image Source:  <a href="http://hdw.datawallpaper.com">http://hdw.datawallpaper.com</a>
</div>

 </div>
 <div class="card">
   <div class="page-nav">
    <div>
        
         <a class="prev" href="/2015/03/22/day-5-circular-progress-loader-animation/"> <i class="fa fa-angle-left"></i></a> 
          <a class="prev" href="/2015/03/22/day-5-circular-progress-loader-animation/"> Day 5 &#8211; Circular Progress Loader Animation</a>
        
    </div>
    <div>
        
          <a class="next" href="/2015/03/24/weight-sensor-interface-using-paintcode/">Day 7 &#8211; Build a Weight Sensor Interface Using PaintCode </a>
         <a class="prev" href="/2015/03/24/weight-sensor-interface-using-paintcode/"> <i class="fa fa-angle-right"></i></a> 
        
    </div>
</div>



 </div>
 <div class="related card">
   <h2>Related Posts</h2>
   <ul class="related-posts">
     
       <li>
         <h4>
           <a href="/general/2015/11/11/singles-day/">
             Singles Day
             <small>11 Nov 2015</small>
           </a>
         </h4>
       </li>
     
       <li>
         <h4>
           <a href="/jekyll/2015/09/27/relocating-my-blog-from-wordpress-to-Jekyll/">
             Relocating My Blog from Wordpress to Jekyll
             <small>27 Sep 2015</small>
           </a>
         </h4>
       </li>
     
       <li>
         <h4>
           <a href="/2015/07/18/a-design-pattern-story-in-swift-chapter-21-interpretor/">
             A Design Pattern Story in Swift – Chapter 21: Interpretor
             <small>18 Jul 2015</small>
           </a>
         </h4>
       </li>
     
   </ul>
 </div>
 <div class="card">
 <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'audreyli';
    
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
 </div>
 

      
    




              </div>
          </div>
          
      </main>
      <footer class="row">
    <div class="col-md-8 col-md-offset-2 text-center">
        <a href="http://audreyli.me">  &copy; Copyright 2015 &nbsp; &nbsp; AudreyLi.me &nbsp; &nbsp;</a> 
       
        <a href="/archives">Archives &nbsp; &nbsp; </a>
        <a href="https://github.com/vidaaudrey" title="Audrey's Github">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-github fa-stack-1x fa-inverse"></i>
            </span>
        </a>
    
        <a href="https://www.linkedin.com/in/audreyauli" title="Audrey's Google Plus">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
            </span>
        </a>
        
        <a href="/feed.xml" title="RSS Feed">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
            </span>
        </a>
    </div>
    
</footer>

      
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js"></script>
<script src="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/js/bootstrap.js"></script>

<!-- inject:js -->
<script src="/assets/javascript/index.js"></script>
<!-- endinject -->

  </div>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68084914-1', 'auto');
    ga('send', 'pageview');

  </script>
  </body>
</html>
